create table clientes (
Id int AUTO_INCREMENT primary key, 
Nombre varchar(50) not null,
Direccion varchar(100) not null,
Nit int not null,
CorreoElectronico varchar(100),
Telefono int
);

create table proveedores (
Id int AUTO_INCREMENT primary key, 
Nombre varchar(50) not null,
Direccion varchar(100) not null,
Nit int not null,
CorreoElectronico varchar(100),
Telefono int
);

create table productos (
Id int AUTO_INCREMENT primary key, 
Nombre varchar(100) not null,
Precio decimal not null,
Existencias int not null
);
create table compras(
Id int AUTO_INCREMENT primary key,
Total decimal not null,
Fecha datetime,
Estado varchar(50),
IdProveedor INT NOT NULL,
FOREIGN KEY (IdProveedor) REFERENCES proveedores(Id)
);
create table pedidos (
Id int AUTO_INCREMENT primary key,
Total decimal not null,
Fecha datetime not null,
Estado ENUM('Pendiente', 'Enviado', 'Entregado', 'Cancelado') NOT NULL,
IdCliente int not null,
foreign key(IdCliente) references clientes(Id) on delete cascade
);

create table detallePedido ( 
Id int AUTO_INCREMENT primary key,
CantidadProductos int not null,
SubTotal decimal not null,
IdProductos int not null,
IdPedidos int  not null,
foreign key(IdProductos) references productos(Id) on delete cascade,
foreign key(IdPedidos) references pedidos(Id) ON DELETE CASCADE
);

create table detalleCompras ( 
Id int AUTO_INCREMENT primary key,
CantidadProductos int not null,
SubTotal decimal not null,
IdProductos int not null,
IdCompras int  not null,
foreign key(IdProductos) references productos(Id) on delete cascade,
foreign key(IdCompras) references compras(Id) ON DELETE CASCADE
);


